<UserControl xmlns="https://github.com/avaloniaui"
			 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
			 xmlns:data="using:UPExcursions.Data"
			 x:Class="UPExcursions.Views.FavoritesView">

	<ScrollViewer>
		<StackPanel>
			<StackPanel Margin="20" Spacing="12">
				<TextBlock Text="My Profile" FontSize="20" FontWeight="Bold" />

				<StackPanel Orientation="Horizontal" Spacing="10">
					<TextBlock Text="Email:" VerticalAlignment="Center" Width="100" />
					<TextBox x:Name="EmailBox" IsReadOnly="True" Width="250" />
				</StackPanel>

				<StackPanel Orientation="Horizontal" Spacing="10">
					<TextBlock Text="First Name:" VerticalAlignment="Center" Width="100" />
					<TextBox x:Name="FirstNameBox" IsReadOnly="True" Width="250" />
				</StackPanel>

				<StackPanel Orientation="Horizontal" Spacing="10">
					<TextBlock Text="Last Name:" VerticalAlignment="Center" Width="100" />
					<TextBox x:Name="LastNameBox" IsReadOnly="True" Width="250" />
				</StackPanel>

				<StackPanel Orientation="Horizontal" Spacing="10">
					<TextBlock Text="Phone:" VerticalAlignment="Center" Width="100" />
					<TextBox x:Name="PhoneBox" IsReadOnly="True" Width="250" />
				</StackPanel>

				<StackPanel Orientation="Horizontal" Spacing="10">
					<TextBlock Text="Role:" VerticalAlignment="Center" Width="100" />
					<TextBox x:Name="RoleBox" IsReadOnly="True" Width="250" />
				</StackPanel>
			</StackPanel>

			<ListBox x:Name="FavoritesListBox">
				<ListBox.ItemTemplate>
					<DataTemplate DataType="data:Excursion">
						<Border Width="900" Height="200"
								Background="#E6E6FA"
								Margin="0,8"
								CornerRadius="8">
							<Grid>
								<Grid.ColumnDefinitions>
									<ColumnDefinition Width="*" />
									<ColumnDefinition Width="Auto" />
								</Grid.ColumnDefinitions>

								<StackPanel Grid.Column="0" Margin="15,10">
									<TextBlock FontSize="20" FontWeight="Bold" Text="{Binding Title}" />
									<TextBlock FontSize="14" Text="{Binding Description}" TextWrapping="Wrap" Margin="0,5,0,10" />

									<StackPanel Orientation="Horizontal" Margin="0,0,0,5">
										<TextBlock Text="Category: " FontWeight="Bold" />
										<TextBlock Text="{Binding Category.CategoryName}" />
									</StackPanel>

									<StackPanel Orientation="Horizontal" Margin="0,0,0,5">
										<TextBlock Text="Duration: " />
										<TextBlock Text="{Binding DurationHours, StringFormat='{}{0} ч.'}" />
									</StackPanel>

									<StackPanel Orientation="Horizontal" Margin="0,0,0,5">
										<TextBlock Text="Price: " />
										<TextBlock Text="{Binding BasePrice, StringFormat='{}{0:F2} ₽'}" />
									</StackPanel>

									<StackPanel Orientation="Horizontal" Margin="0,5,0,0">
										<TextBlock Text="Date: " FontWeight="Bold" />
										<ItemsControl ItemsSource="{Binding ExcursionSessions}">
											<ItemsControl.ItemsPanel>
												<ItemsPanelTemplate>
													<StackPanel Orientation="Horizontal" />
												</ItemsPanelTemplate>
											</ItemsControl.ItemsPanel>
											<ItemsControl.ItemTemplate>
												<DataTemplate>
													<TextBlock Text="{Binding SessionDate, StringFormat='{}{0:dd.MM.yyyy}'}"
															   Margin="0,0,8,0" />
												</DataTemplate>
											</ItemsControl.ItemTemplate>
										</ItemsControl>
									</StackPanel>
								</StackPanel>

								<StackPanel Grid.Column="1"
											Orientation="Vertical"
											HorizontalAlignment="Right"
											VerticalAlignment="Top"
											Margin="0,15,15,0">
									<Button Content="Reviews"
											Tag="{Binding}"
											Click="ShowReviewsButton_Click"
											Width="90"
											Height="32"
											Background="#9400D3"
											Foreground="White" />
									<Button Content="       ♥"
											Tag="{Binding}"
											Click="AddToFavoritesButton_Click"
											Width="90"
											Height="32"
											Background="white"
											Foreground="#9400D3"/>
								</StackPanel>
							</Grid>
						</Border>
					</DataTemplate>
				</ListBox.ItemTemplate>
			</ListBox>
		</StackPanel>
	</ScrollViewer>
</UserControl>
